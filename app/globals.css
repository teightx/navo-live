@import "tailwindcss";

@theme inline {
  --font-sans: "DM Sans", system-ui, -apple-system, sans-serif;
  
  /* Tailwind color tokens - these use CSS custom properties for dynamic theming */
  --color-cream: oklch(from var(--cream) l c h);
  --color-cream-dark: oklch(from var(--cream-dark) l c h);
  --color-cream-soft: oklch(from var(--cream-soft) l c h);

  --color-ink: oklch(from var(--ink) l c h);
  --color-ink-soft: oklch(from var(--ink-soft) l c h);
  --color-ink-muted: oklch(from var(--ink-muted) l c h);

  --color-blue: oklch(from var(--blue) l c h);
  --color-blue-soft: oklch(from var(--blue-soft) l c h);
  --color-blue-muted: oklch(from var(--blue-muted) l c h);

  --color-sage: oklch(from var(--sage) l c h);
  --color-sage-soft: oklch(from var(--sage-soft) l c h);

  --color-accent: oklch(from var(--accent) l c h);
  --color-accent-soft: oklch(from var(--accent-soft) l c h);
}

/* Light mode (default) */
:root {
  --cream: #fcf2ed;
  --cream-dark: #f0e4dd;
  --cream-soft: #fff8f5;

  --ink: #3a3a3a;
  --ink-soft: #5a5a5a;
  --ink-muted: #6a6a6a; /* Ajustado para WCAG AA (4.5:1 contraste mínimo) */

  --blue: #4f7386;
  --blue-soft: #7fa6b3;
  --blue-muted: #a8c4cf;

  --sage: #9fb48a;
  --sage-soft: #b5c9a3;

  --accent: #e07a3f;
  --accent-soft: #e99a6a;

  /* Card/Field colors - Light mode (glass effect) */
  --card-bg: rgba(255, 255, 255, 0.7);
  --card-border: rgba(255, 255, 255, 0.5);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  --field-bg: rgba(255, 255, 255, 0.6);
  --field-border: rgba(0, 0, 0, 0.1);
  --field-hover-bg: rgba(255, 255, 255, 0.8);
  --popover-bg: rgba(255, 255, 255, 0.95);
  --glow-opacity: 0; /* Desativa glow nas linhas de voo no modo claro */
}

/* Dark mode */
:root.dark {
  --cream: #1a1a1f;
  --cream-dark: #252529;
  --cream-soft: #0f0f12;

  --ink: #e8e8e8;
  --ink-soft: #b8b8b8;
  --ink-muted: #9a9a9a; /* Ajustado para WCAG AA (4.5:1 contraste mínimo no modo escuro) */

  --blue: #7fa6b3;
  --blue-soft: #5a8fa0;
  --blue-muted: #3d5a68;

  --sage: #b5c9a3;
  --sage-soft: #9fb48a;

  --accent: #e99a6a;
  --accent-soft: #e07a3f;

  /* Card/Field colors for dark mode */
  --card-bg: rgba(35, 35, 42, 0.85);
  --card-border: rgba(255, 255, 255, 0.08);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  --field-bg: rgba(50, 50, 58, 0.7);
  --field-border: rgba(255, 255, 255, 0.08);
  --field-hover-bg: rgba(60, 60, 70, 0.8);
  --popover-bg: rgba(35, 35, 42, 0.98);
  --glow-opacity: 1; /* Ativa glow nas linhas de voo no modo escuro */
}

@keyframes wavesBack {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-25px); }
}

@keyframes wavesFront {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-15px); }
  50% { transform: translateY(-35px); }
  75% { transform: translateY(-20px); }
}

/* Bottom sheet animation for mobile popovers */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.25s ease-out forwards;
}

/* Footer wave horizontal animation */
@keyframes footerWave {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-footer-wave {
  animation: footerWave 20s linear infinite;
}

html {
  scroll-behavior: smooth;
  overflow-y: scroll; /* Evita shift horizontal quando modais abrem/fecham */
}

body {
  background: var(--cream);
  color: var(--ink);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  transition: background-color 0.3s ease, color 0.3s ease;
}

::selection {
  background: var(--blue-soft);
  color: var(--cream-soft);
}

/* Utility classes for dynamic colors */
.bg-cream { background-color: var(--cream) !important; }
.bg-cream-dark { background-color: var(--cream-dark) !important; }
.bg-cream-soft { background-color: var(--cream-soft) !important; }
.text-ink { color: var(--ink) !important; }
.text-ink-soft { color: var(--ink-soft) !important; }
.text-ink-muted { color: var(--ink-muted) !important; }
.text-blue { color: var(--blue) !important; }
.border-cream-dark { border-color: var(--cream-dark) !important; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* iOS Safe Area utilities */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.h-safe {
  height: env(safe-area-inset-bottom, 0px);
}
