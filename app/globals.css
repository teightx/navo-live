@import "tailwindcss";

@theme inline {
  --font-sans: "DM Sans", system-ui, -apple-system, sans-serif;
  
  /* Tailwind color tokens - these use CSS custom properties for dynamic theming */
  --color-cream: oklch(from var(--cream) l c h);
  --color-cream-dark: oklch(from var(--cream-dark) l c h);
  --color-cream-soft: oklch(from var(--cream-soft) l c h);

  --color-ink: oklch(from var(--ink) l c h);
  --color-ink-soft: oklch(from var(--ink-soft) l c h);
  --color-ink-muted: oklch(from var(--ink-muted) l c h);

  --color-blue: oklch(from var(--blue) l c h);
  --color-blue-soft: oklch(from var(--blue-soft) l c h);
  --color-blue-muted: oklch(from var(--blue-muted) l c h);

  --color-sage: oklch(from var(--sage) l c h);
  --color-sage-soft: oklch(from var(--sage-soft) l c h);

  --color-accent: oklch(from var(--accent) l c h);
  --color-accent-soft: oklch(from var(--accent-soft) l c h);
}

/* Light mode (default) */
:root {
  --cream: #fcf2ed;
  --cream-rgb: 252, 242, 237;
  --cream-dark: #f0e4dd;
  --cream-soft: #fff8f5;

  --ink: #3a3a3a;
  --ink-soft: #5a5a5a;
  --ink-muted: #6a6a6a; /* Ajustado para WCAG AA (4.5:1 contraste mínimo) */

  --blue: #4f7386;
  --blue-soft: #7fa6b3;
  --blue-muted: #a8c4cf;

  --sage: #9fb48a;
  --sage-soft: #b5c9a3;

  --accent: #e07a3f;
  --accent-soft: #e99a6a;

  /* Card/Field colors - Light mode (glass effect) */
  --card-bg: rgba(255, 255, 255, 0.7);
  --card-border: rgba(255, 255, 255, 0.5);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  --field-bg: rgba(255, 255, 255, 0.6);
  --field-border: rgba(0, 0, 0, 0.1);
  --field-hover-bg: rgba(255, 255, 255, 0.8);
  --popover-bg: rgba(255, 255, 255, 0.95);
  --glow-opacity: 0; /* Desativa glow nas linhas de voo no modo claro */

  /* Home cards - Light mode (warm stone premium) */
  --home-card-bg: #FFFFFF;
  --home-card-border: rgba(10, 20, 30, 0.08);
}

/* Dark mode */
:root.dark {
  --cream: #1a1a1f;
  --cream-rgb: 26, 26, 31;
  --cream-dark: #252529;
  --cream-soft: #0f0f12;

  --ink: #e8e8e8;
  --ink-soft: #b8b8b8;
  --ink-muted: #9a9a9a; /* Ajustado para WCAG AA (4.5:1 contraste mínimo no modo escuro) */

  --blue: #7fa6b3;
  --blue-soft: #5a8fa0;
  --blue-muted: #3d5a68;

  --sage: #b5c9a3;
  --sage-soft: #9fb48a;

  --accent: #e99a6a;
  --accent-soft: #e07a3f;

  /* Card/Field colors for dark mode */
  --card-bg: rgba(35, 35, 42, 0.85);
  --card-border: rgba(255, 255, 255, 0.08);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  --field-bg: rgba(50, 50, 58, 0.7);
  --field-border: rgba(255, 255, 255, 0.08);
  --field-hover-bg: rgba(60, 60, 70, 0.8);
  --popover-bg: rgba(35, 35, 42, 0.98);
  --glow-opacity: 1; /* Ativa glow nas linhas de voo no modo escuro */

  /* Home cards - Dark mode (ink/slate premium) */
  --home-card-bg: #121A2A;
  --home-card-border: rgba(255, 255, 255, 0.06);
}

@keyframes wavesBack {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-25px); }
}

@keyframes wavesFront {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-15px); }
  50% { transform: translateY(-35px); }
  75% { transform: translateY(-20px); }
}

/* Bottom sheet animation for mobile popovers */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.25s ease-out forwards;
}

/* Footer wave horizontal animation */
@keyframes footerWave {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-footer-wave {
  animation: footerWave 20s linear infinite;
}

/* Home Wave Transition - Animações horizontais parallax */
@keyframes wave-horizontal-slow {
  0% { transform: translateX(0); }
  100% { transform: translateX(-25%); }
}

@keyframes wave-horizontal-medium {
  0% { transform: translateX(0); }
  100% { transform: translateX(-20%); }
}

@keyframes wave-horizontal-fast {
  0% { transform: translateX(0); }
  100% { transform: translateX(-15%); }
}

.animate-wave-slow {
  animation: wave-horizontal-slow 40s linear infinite;
}

.animate-wave-medium {
  animation: wave-horizontal-medium 30s linear infinite;
}

.animate-wave-fast {
  animation: wave-horizontal-fast 25s linear infinite;
}

/* ============================================================
   HOME SCROLL SNAP - Encaixe automático entre seções
   O comportamento de "magnet scroll" é controlado via JS no page.tsx
   ============================================================ */

/* Esconde a scrollbar do body quando a home está usando seu próprio container de scroll */
body:has(main.h-screen) {
  overflow: hidden;
}

/* Esconde a scrollbar visual mas mantém funcionalidade (opcional, para visual mais limpo) */
main.h-screen {
  scrollbar-width: thin;
  scrollbar-color: rgba(0,0,0,0.2) transparent;
}

main.h-screen::-webkit-scrollbar {
  width: 6px;
}

main.h-screen::-webkit-scrollbar-track {
  background: transparent;
}

main.h-screen::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.15);
  border-radius: 3px;
}

main.h-screen::-webkit-scrollbar-thumb:hover {
  background: rgba(0,0,0,0.25);
}

:root.dark main.h-screen {
  scrollbar-color: rgba(255,255,255,0.2) transparent;
}

:root.dark main.h-screen::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.15);
}

:root.dark main.h-screen::-webkit-scrollbar-thumb:hover {
  background: rgba(255,255,255,0.25);
}

html {
  scroll-behavior: smooth;
  overflow-y: scroll; /* Evita shift horizontal quando modais abrem/fecham */
}

body {
  background: var(--cream);
  color: var(--ink);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  transition: background-color 0.3s ease, color 0.3s ease;
}

::selection {
  background: var(--blue-soft);
  color: var(--cream-soft);
}

/* Utility classes for dynamic colors */
.bg-cream { background-color: var(--cream) !important; }
.bg-cream-dark { background-color: var(--cream-dark) !important; }
.bg-cream-soft { background-color: var(--cream-soft) !important; }
.text-ink { color: var(--ink) !important; }
.text-ink-soft { color: var(--ink-soft) !important; }
.text-ink-muted { color: var(--ink-muted) !important; }
.text-blue { color: var(--blue) !important; }
.border-cream-dark { border-color: var(--cream-dark) !important; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  /* Desabilita scroll-snap para quem prefere menos movimento */
  .home-scroll-container {
    scroll-snap-type: none;
  }
}

/* iOS Safe Area utilities */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.h-safe {
  height: env(safe-area-inset-bottom, 0px);
}
